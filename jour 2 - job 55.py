import matplotlib.pyplot as plt
import random
D={}
s=0
f=open("data.txt","r")
for i in f.readlines():
    if len(i.split()) in D:
        D[len(i.split())]=D[len(i.split())]+1
    else:
        D[len(i.split())]=1
    s=s+1
for i in D:
    D[i]=D[i]/s
f.close()
plt.bar(list(D.keys()), D.values(), color="g")
plt.show()

#nombre de mots dans une phrase:
nombre_mots_dans_une_phrase=random.choices(list(D.keys()),D.values(),k=1)[0]

#générateur de mots

phrase=""

def mot():
    D={5: 0.13737886294158405, 3: 0.12618963814205517, 11: 0.02854108837774564, 10: 0.048336360250596365, 2: 0.11439531397413072, 6: 0.11331210087943949, 4: 0.14659341839382764, 8: 0.08010492934399559, 9: 0.0625962512815749, 7: 0.10489695839558329, 13: 0.008955470652254506, 12: 0.014356195578342897, 1: 0.008166284715445631, 15: 0.001783764757819631, 14: 0.0032649798314414746, 16: 0.0005087948210312086, 17: 0.00030340193682933044, 19: 4.943065262949766e-05, 18: 0.0002667550736729787}

    longueur_du_mot=random.choices(list(D.keys()), list(D.values()), k=1)
    F={'l': 0.017347212923200267, 'i': 0.09623144400898961, 'd': 0.053912057076330636, 's': 0.09021505972459733, 'a': 0.08775699061379232, 'c': 0.05183608892376318, 'e': 0.11566912445147616, 'q': 0.08088087917336552, 't': 0.03363938369162406, 'n': 0.06926006320018081, 'm': 0.03785955231072996, 'h': 0.02579607920065844, 'u': 0.022117504573697294, 'p': 0.06802676412515513, 'r': 0.0257176120395918, 'v': 0.05618504603548933, 'f': 0.021545206040265594, 'b': 0.013784633229989808, 'g': 0.007070573535244123, 'o': 0.02393674864494889, 'z': 0.0008571684442605963, 'k': 0.0001407291475651725, 'x': 0.00021407888508398972}
    mot=random.choices(list(F.keys()), list(F.values()), k=1)[0]
    f=open("data.txt","r")
    labels=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]
    #E={}
    #for i in labels:
     #   E[i]={}
    #for i in E:
     #   for j in labels:
      #      E[i][j]=0
    #chaine=f.read()
    #f.close()
    #for i,j in zip(" "+chaine,chaine):
     #   if i.lower() in labels and j.lower() in labels:
      #      E[i.lower()][j.lower()]=E[i.lower()][j.lower()]+1
    #for i in E:
     #   for j in list(E[i].keys()):
      #      if sum(list(E[i].values()))!=0:
       #         E[i][j]=E[i][j]/sum(list(E[i].values()))
    E={'a': {'a': 0.0, 'b': 0.03727092277154596, 'c': 0.03827988303686644, 'd': 0.050929205529814614, 'e': 0.12725000040822795, 'f': 0.005931936156818028, 'g': 0.022195091210904645, 'h': 0.00010837011042961525, 'i': 0.007540280535536004, 'j': 0.0, 'k': 0.00048362343481612595, 'l': 0.06211480850893526, 'm': 0.2564834368172596, 'n': 0.17315797666902316, 'o': 0.0, 'p': 0.05326878875044519, 'q': 0.017247508638568235, 'r': 0.1963341810069951, 's': 0.15642598217595285, 't': 0.7361410491725142, 'u': 0.7387301888177388, 'v': 0.6637884331095226, 'w': 0.016288190317512594, 'x': 0.9987355985281287, 'y': 0.0, 'z': 0.0}, 'b': {'a': 0.1108587368001594, 'b': 0.0, 'c': 0.0, 'd': 0.004257600621577456, 'e': 0.2543578887876413, 'f': 0.0, 'g': 0.0, 'h': 0.0, 'i': 0.3485688372796492, 'j': 0.0, 'k': 0.0, 'l': 0.0416657425933576, 'm': 0.0015470017961489166, 'n': 0.0, 'o': 0.3394474190154881, 'p': 0.0, 'q': 0.0, 'r': 0.08277910789076993, 's': 0.07719690121109897, 't': 0.010276388266206223, 'u': 0.9987008922811806, 'v': 0.9024628268608222, 'w': 0.0, 'x': 0.0, 'y': 0.0, 'z': 0.0}, 'c': {'a': 0.08398111232376328, 'b': 0.0, 'c': 0.023366916936891812, 'd': 0.0, 'e': 0.17284722862400967, 'f': 0.0, 'g': 0.0, 'h': 0.01775121923210238, 'i': 0.2529239705070289, 'j': 0.0, 'k': 1.025445918826757e-05, 'l': 0.030220201116465763, 'm': 0.0, 'n': 0.0032568267680556577, 'o': 0.3577029022675524, 'p': 0.0, 'q': 0.016764406165977276, 'r': 0.0733916180395944, 's': 0.0, 't': 0.3165459255986778, 'u': 0.9951366825878275, 'v': 0.0, 'w': 0.0, 'x': 0.0, 'y': 0.9872851812618846, 'z': 0.0}, 'd': {'a': 0.09103241382607448, 'b': 0.0, 'c': 0.002590348409921774, 'd': 0.012556926908659456, 'e': 0.3671127674833814, 'f': 0.0, 'g': 0.0, 'h': 0.012551488355274733, 'i': 0.6191980171374681, 'j': 0.0, 'k': 0.0, 'l': 0.0, 'm': 0.021345761908481847, 'n': 0.0043278719693353946, 'o': 0.50922402592124, 'p': 0.00357778816538179, 'q': 0.05238793780609509, 'r': 0.028138925206327804, 's': 0.03937177967966771, 't': 0.0, 'u': 0.9652181207659974, 'v': 0.9222333255889015, 'w': 0.0, 'x': 0.0, 'y': 0.9123459433538023, 'z': 0.0}, 'e': {'a': 0.042798913043478264, 'b': 0.018103210663419494, 'c': 0.054865442529718395, 'd': 0.03543675219364039, 'e': 0.0004278325472919394, 'f': 0.011000787965151776, 'g': 0.024475697047282752, 'h': 0.002908046390133002, 'i': 0.010876260665697276, 'j': 0.0, 'k': 0.0, 'l': 0.035744263890766965, 'm': 0.14259355862879897, 'n': 0.20547402671952925, 'o': 0.026772455217441024, 'p': 0.03710462424511338, 'q': 0.028314221284850203, 'r': 0.3948618329449053, 's': 0.4878347109451199, 't': 0.7833529411141761, 'u': 0.16973756944521615, 'v': 0.2250408158756392, 'w': 0.0, 'x': 0.9997814146672214, 'y': 0.0, 'z': 0.0}, 'f': {'a': 0.16893367254953023, 'b': 0.0, 'c': 0.0, 'd': 0.0, 'e': 0.23111316967660103, 'f': 0.21276929219125137, 'g': 0.0, 'h': 0.0, 'i': 0.5570331185981251, 'j': 0.0, 'k': 0.0, 'l': 0.0790171322365259, 'm': 0.0, 'n': 0.0, 'o': 0.3453308012466352, 'p': 0.0, 'q': 0.0, 'r': 0.23943010754491334, 's': 0.0, 't': 0.0, 'u': 0.9996405944552497, 'v': 0.0, 'w': 0.0, 'x': 0.0, 'y': 0.0, 'z': 0.0}, 'g': {'a': 0.11495881508350336, 'b': 0.0, 'c': 0.0, 'd': 0.0, 'e': 0.240164202425083, 'f': 0.0, 'g': 0.00283736915341343, 'h': 0.0, 'i': 0.34593255866594, 'j': 0.0, 'k': 0.0, 'l': 0.056381819143489845, 'm': 0.0032865066577771867, 'n': 0.3461294119068591, 'o': 0.42617686317192777, 'p': 0.0, 'q': 0.0, 'r': 0.6079182517195356, 's': 0.0, 't': 0.0, 'u': 0.9560729941741848, 'v': 0.0, 'w': 0.0, 'x': 0.0, 'y': 0.9781853492434716, 'z': 0.0}, 'h': {'a': 0.20059679224170085, 'b': 0.0, 'c': 0.0, 'd': 0.0, 'e': 0.08160656098324096, 'f': 0.0, 'g': 0.0, 'h': 0.0, 'i': 0.4936458032692936, 'j': 0.0, 'k': 0.0, 'l': 0.0, 'm': 0.003812624390637761, 'n': 0.0, 'o': 0.6968049920823358, 'p': 0.0, 'q': 0.0, 'r': 0.21207423246550866, 's': 0.0, 't': 0.015596387278208756, 'u': 0.9707315785004909, 'v': 0.0, 'w': 0.0, 'x': 0.0, 'y': 0.9805711166373381, 'z': 0.0}, 'i': {'a': 0.06947765775175686, 'b': 0.031149070887218577, 'c': 0.07943539998318971, 'd': 0.08393835469414107, 'e': 0.031325870229270136, 'f': 0.003970827005186215, 'g': 0.021942228683866874, 'h': 0.01947799064924223, 'i': 0.01607471551328358, 'j': 0.0, 'k': 0.0003397635746135418, 'l': 0.07736883167393604, 'm': 0.10713163970287101, 'n': 0.21966961640633703, 'o': 0.10630804511160306, 'p': 0.06453636163996632, 'q': 0.029022118606905827, 'r': 0.058396115107234504, 's': 0.4226653718309213, 't': 0.6928211932724786, 'u': 0.7394802860046212, 'v': 0.6455799552809878, 'w': 0.0, 'x': 0.9990346655698972, 'y': 0.0, 'z': 0.0}, 'j': {'a': 0, 'b': 0, 'c': 0, 'd': 0, 'e': 0, 'f': 0, 'g': 0, 'h': 0, 'i': 0, 'j': 0, 'k': 0, 'l': 0, 'm': 0, 'n': 0, 'o': 0, 'p': 0, 'q': 0, 'r': 0, 's': 0, 't': 0, 'u': 0, 'v': 0, 'w': 0, 'x': 0, 'y': 0, 'z': 0}, 'k': {'a': 0.8040201005025126, 'b': 0.0, 'c': 0.0, 'd': 0.0, 'e': 0.0, 'f': 0.0, 'g': 0.0, 'h': 0.9897972197423798, 'i': 0.0, 'j': 0.0, 'k': 0.0, 'l': 0.0, 'm': 0.0, 'n': 0.0, 'o': 0.0, 'p': 0.0, 'q': 0.0, 'r': 0.0, 's': 0.0, 't': 0.0, 'u': 0.0, 'v': 0.0, 'w': 0.0, 'x': 0.0, 'y': 0.0, 'z': 0.0}, 'l': {'a': 0.13292064954508812, 'b': 0.0007969337552949494, 'c': 0.00564944964055675, 'd': 0.0016443065554277148, 'e': 0.18258430415933677, 'f': 0.0, 'g': 0.00047505812329642737, 'h': 0.0, 'i': 0.3195464832531379, 'j': 0.0, 'k': 0.0, 'l': 0.349239197269301, 'm': 0.00035160447299544646, 'n': 0.004665025855438222, 'o': 0.3329551715400049, 'p': 0.0, 'q': 0.0, 'r': 0.0, 's': 0.018290644052403205, 't': 0.20014570494379325, 'u': 0.9707572898746666, 'v': 0.6573521390076377, 'w': 0.0, 'x': 0.45201351438888143, 'y': 0.9766792921614064, 'z': 0.0}, 'm': {'a': 0.14189423070871593, 'b': 0.004818582853094626, 'c': 0.0, 'd': 0.0, 'e': 0.16904690985814896, 'f': 0.0, 'g': 0.0, 'h': 0.00017737994883067632, 'i': 0.22883411722325384, 'j': 0.0, 'k': 0.0, 'l': 0.0, 'm': 0.11054166653340307, 'n': 0.16906419928938188, 'o': 0.35491046846700597, 'p': 0.17643292643422082, 'q': 0.1770546349320378, 'r': 0.0, 's': 0.01263681003211114, 't': 0.00036052216775101924, 'u': 0.9831378595031289, 'v': 0.9946024455432453, 'w': 0.0, 'x': 0.0, 'y': 0.0, 'z': 0.0}, 'n': {'a': 0.07197531547487271, 'b': 0.000882657086069455, 'c': 0.03265134864750246, 'd': 0.08421390899726217, 'e': 0.1952697357078195, 'f': 0.011592545997451787, 'g': 0.020712317647834533, 'h': 0.0009299250952386716, 'i': 0.2651021669145142, 'j': 0.0, 'k': 0.0, 'l': 0.0006892420605491386, 'm': 0.0013322747131976193, 'n': 0.00818139871119797, 'o': 0.2520492863764468, 'p': 0.005760985362811347, 'q': 0.06840393543223912, 'r': 0.00021477290561047006, 's': 0.13902229155986526, 't': 0.7890663940496082, 'u': 0.8195515979983675, 'v': 0.703843662329891, 'w': 0.0, 'x': 0.3715264119002138, 'y': 0.9945937818542256, 'z': 0.0}, 'o': {'a': 0.0014052308862894023, 'b': 0.026143185038501868, 'c': 0.04670472514752522, 'd': 0.08151191160969998, 'e': 0.004085490917820367, 'f': 0.014323523129744534, 'g': 0.01617591031107761, 'h': 0.0007376961338838601, 'i': 0.006147835222971701, 'j': 0.00031894553619663435, 'k': 0.0, 'l': 0.11130552586635106, 'm': 0.11200059239707738, 'n': 0.38388615281779964, 'o': 0.0, 'p': 0.11727599397796515, 'q': 0.045266960717096544, 'r': 0.5125091359936276, 's': 0.6698402532666394, 't': 0.8008325481613578, 'u': 0.0, 'v': 0.9080015884505808, 'w': 0.0, 'x': 0.9866423402340838, 'y': 0.0, 'z': 0.0}, 'p': {'a': 0.060527995622834216, 'b': 0.0, 'c': 0.0, 'd': 0.0, 'e': 0.18554192512266232, 'f': 0.0, 'g': 0.0, 'h': 0.045600726834853576, 'i': 0.14576568707115942, 'j': 0.0, 'k': 0.0, 'l': 0.08216279187422436, 'm': 0.0, 'n': 0.0, 'o': 0.286560333500906, 'p': 0.06695705466481983, 'q': 0.0, 'r': 0.37382312157162056, 's': 0.24668511244580443, 't': 0.5884200203301737, 'u': 0.929291724928763, 'v': 0.0, 'w': 0.0, 'x': 0.0, 'y': 0.99672328689061, 'z': 0.0}, 'q': {'a': 0.0005515491637135805, 'b': 0.0, 'c': 0.0, 'd': 0.0, 'e': 0.0, 'f': 0.0, 'g': 0.0, 'h': 0.0, 'i': 0.0, 'j': 0.0, 'k': 0.0, 'l': 0.0, 'm': 0.0, 'n': 0.0, 'o': 0.0, 'p': 0.0, 'q': 0.0, 'r': 0.0, 's': 0.0, 't': 0.0, 'u': 0.9999999961953205, 'v': 0.0, 'w': 0.0, 'x': 0.0, 'y': 0.0, 'z': 0.0}, 'r': {'a': 0.1568776523406138, 'b': 0.021423866478057715, 'c': 0.009993201036644719, 'd': 0.00824857453947551, 'e': 0.34556342089501507, 'f': 0.008567373130560118, 'g': 0.020674534665935964, 'h': 0.004653840489416736, 'i': 0.35664401074669916, 'j': 0.0, 'k': 0.0, 'l': 0.0, 'm': 0.03640704331801687, 'n': 0.022987327170815128, 'o': 0.2386926648692324, 'p': 0.07651309917694182, 'q': 0.03064153126492172, 'r': 0.07343149851815327, 's': 0.09058920579428079, 't': 0.3635861992068941, 'u': 0.9320733152787017, 'v': 0.8436100226876377, 'w': 0.0, 'x': 0.0, 'y': 0.9901227030642823, 'z': 0.0}, 's': {'a': 0.05512551867550767, 'b': 0.0, 'c': 0.040792552872658226, 'd': 0.004050391003604553, 'e': 0.23156034347965498, 'f': 0.0015633381998057467, 'g': 0.0, 'h': 0.0, 'i': 0.2640882369419364, 'j': 0.0, 'k': 0.0, 'l': 0.0007008822478808999, 'm': 0.0024047102580614004, 'n': 0.007859256520310776, 'o': 0.0724135144705256, 'p': 0.050809763793669624, 'q': 0.027242663453777505, 'r': 0.0, 's': 0.2939886748931172, 't': 0.6658780472419873, 'u': 0.996751968424929, 'v': 0.7353276128135721, 'w': 0.0, 'x': 0.0, 'y': 0.8787174037525356, 'z': 0.0}, 't': {'a': 0.2105833088980457, 'b': 0.0, 'c': 0.0, 'd': 0.0, 'e': 0.2858742104377583, 'f': 0.00041063359144541455, 'g': 0.0, 'h': 0.007887403773913336, 'i': 0.4140129788808556, 'j': 0.0, 'k': 0.0, 'l': 0.0, 'm': 0.0017115769976281795, 'n': 0.0032874578168956, 'o': 0.15352879859761806, 'p': 0.0, 'q': 0.04310414046335543, 'r': 0.14663259340250998, 's': 0.01012565549966088, 't': 0.023699066237616792, 'u': 0.9972559855385098, 'v': 0.0, 'w': 0.042863612725725954, 'x': 0.0, 'y': 0.9895183702969597, 'z': 0.0}, 'u': {'a': 0.09912347970407252, 'b': 0.007864721055089004, 'c': 0.015199240605359723, 'd': 0.03681894716047698, 'e': 0.07007954846885493, 'f': 0.0009139624655479482, 'g': 0.004870302847472744, 'h': 0.0, 'i': 0.14185912784914875, 'j': 0.0, 'k': 0.0, 'l': 0.04880616201714889, 'm': 0.3147674078848899, 'n': 0.13244622344424078, 'o': 0.1147041916274657, 'p': 0.07781213405076534, 'q': 0.0, 'r': 0.30696305731910944, 's': 0.5695884660263038, 't': 0.9322492149158438, 'u': 0.7120359012675495, 'v': 0.30514462510027696, 'w': 0.0, 'x': 0.9942682326033141, 'y': 0.0, 'z': 0.0}, 'v': {'a': 0.0653174681652878, 'b': 0.0, 'c': 0.0, 'd': 0.0, 'e': 0.3507614384186444, 'f': 0.0, 'g': 0.0, 'h': 0.0, 'i': 0.7103075111534513, 'j': 0.0, 'k': 0.0, 'l': 0.0, 'm': 0.0, 'n': 0.0, 'o': 0.915373058513733, 'p': 0.0, 'q': 0.0, 'r': 0.0, 's': 0.0, 't': 0.0, 'u': 0.9984932128755646, 'v': 0.0, 'w': 0.0, 'x': 0.0, 'y': 0.0, 'z': 0.0}, 'w': {'a': 0.0, 'b': 0.0, 'c': 0.0, 'd': 0.0, 'e': 0.0, 'f': 0.0, 'g': 0.0, 'h': 0.0, 'i': 0.0, 'j': 0.0, 'k': 0.0, 'l': 0.0, 'm': 1.0, 'n': 0.0, 'o': 0.0, 'p': 0.0, 'q': 0.0, 'r': 0.0, 's': 0.0, 't': 0.0, 'u': 0.0, 'v': 0.0, 'w': 0.0, 'x': 0.0, 'y': 0.0, 'z': 0.0}, 'x': {'a': 0.027142944672507812, 'b': 0.0, 'c': 0.034387143634693466, 'd': 0.0, 'e': 0.12809758140780747, 'f': 0.0, 'g': 0.0, 'h': 0.0062087688992835, 'i': 0.466760149894961, 'j': 0.0, 'k': 0.0, 'l': 0.0, 'm': 0.0, 'n': 0.0, 'o': 0.012703498405603376, 'p': 0.5834438090284606, 'q': 0.06382412007498854, 'r': 0.0, 's': 0.0, 't': 0.7510109046563331, 'u': 0.9969509491546994, 'v': 0.0, 'w': 0.0, 'x': 0.0, 'y': 0.0, 'z': 0.0}, 'y': {'a': 0.0, 'b': 0.0, 'c': 0.05277777777777778, 'd': 0.0003665618231970504, 'e': 0.0, 'f': 0.0, 'g': 0.0, 'h': 0.0, 'i': 0.02346855620794974, 'j': 0.0, 'k': 0.0, 'l': 0.10326402127085901, 'm': 0.3132092382277331, 'n': 0.005486155398004499, 'o': 0.0, 'p': 0.060067475180932424, 'q': 0.0, 'r': 0.5249228683634771, 's': 0.615841616789991, 't': 0.9939458215971169, 'u': 0.0, 'v': 0.0, 'w': 0.0, 'x': 0.0, 'y': 0.0, 'z': 0.0}, 'z': {'a': 0.0, 'b': 0.0, 'c': 0.0, 'd': 0.0, 'e': 1.0, 'f': 0.0, 'g': 0.0, 'h': 0.0, 'i': 0.0, 'j': 0.0, 'k': 0.0, 'l': 0.0, 'm': 0.0, 'n': 0.0, 'o': 0.0, 'p': 0.0, 'q': 0.0, 'r': 0.0, 's': 0.0, 't': 0.0, 'u': 0.0, 'v': 0.0, 'w': 0.0, 'x': 0.0, 'y': 0.0, 'z': 0.0}}
    for i in range(0,longueur_du_mot[0]-1):
        l=mot[i]
        mot=mot+random.choices(list(E[l].keys()), list(E[l].values()), k=1)[0]
    return mot
phrase=mot()
for i in range(0,nombre_mots_dans_une_phrase):
    phrase=phrase+mot()+" "
phrase=phrase+" /n"
print(phrase)

